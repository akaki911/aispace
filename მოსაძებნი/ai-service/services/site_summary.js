/**
 * Bakhmaro Booking Platform - Static Site Information
 * áƒ®áƒ”áƒšáƒ˜áƒ— áƒ›áƒáƒ›áƒ–áƒáƒ“áƒ”áƒ‘áƒ£áƒšáƒ˜ áƒ‘áƒáƒ–áƒ˜áƒ¡áƒ£áƒ áƒ˜ áƒ˜áƒœáƒ¤áƒáƒ áƒ›áƒáƒªáƒ˜áƒ áƒ–áƒ£áƒ¡áƒ¢áƒ˜ áƒžáƒáƒ¡áƒ£áƒ®áƒ”áƒ‘áƒ˜áƒ¡áƒ—áƒ•áƒ˜áƒ¡
 */

const BAKHMARO_PLATFORM_INFO = {
  title: "áƒ‘áƒáƒ®áƒ›áƒáƒ áƒáƒ¡ áƒ‘áƒ£áƒ™áƒ˜áƒœáƒ’ áƒžáƒšáƒáƒ¢áƒ¤áƒáƒ áƒ›áƒ",
  description: "áƒ‘áƒ£áƒœáƒ”áƒ‘áƒ áƒ˜áƒ•áƒ˜ áƒ’áƒáƒœáƒ¡áƒ•áƒ”áƒœáƒ”áƒ‘áƒ˜áƒ¡ áƒáƒ“áƒ’áƒ˜áƒšáƒ”áƒ‘áƒ˜áƒ¡ áƒáƒœáƒšáƒáƒ˜áƒœ áƒ¯áƒáƒ•áƒ¨áƒœáƒ˜áƒ¡ áƒ¡áƒ˜áƒ¡áƒ¢áƒ”áƒ›áƒ",

  // áƒ«áƒ˜áƒ áƒ˜áƒ—áƒáƒ“áƒ˜ áƒ™áƒáƒ¢áƒ”áƒ’áƒáƒ áƒ˜áƒ”áƒ‘áƒ˜
  categories: {
    cottages: {
      name: "áƒ™áƒáƒ¢áƒ”áƒ¯áƒ”áƒ‘áƒ˜",
      description: "áƒ«áƒ˜áƒ áƒ˜áƒ—áƒáƒ“áƒ˜ áƒ“áƒáƒ¡áƒ•áƒ”áƒœáƒ”áƒ‘áƒ˜áƒ¡ áƒœáƒáƒ’áƒ”áƒ‘áƒáƒ‘áƒ”áƒ‘áƒ˜",
      features: ["áƒ¡áƒáƒ›áƒ–áƒáƒ áƒ”áƒ£áƒšáƒ", "áƒ¡áƒáƒ«áƒ˜áƒœáƒ”áƒ‘áƒ”áƒšáƒ˜", "áƒ™áƒáƒ›áƒ¤áƒáƒ áƒ¢áƒ£áƒšáƒ˜ áƒáƒ•áƒ”áƒ¯áƒ˜", "áƒ™áƒ”áƒ áƒ«áƒ áƒ¢áƒ”áƒ áƒ˜áƒ¢áƒáƒ áƒ˜áƒ"]
    },
    hotels: {
      name: "áƒ¡áƒáƒ¡áƒ¢áƒ£áƒ›áƒ áƒáƒ”áƒ‘áƒ˜", 
      description: "áƒ¡áƒáƒ¡áƒ¢áƒ£áƒ›áƒ áƒ áƒ¢áƒ˜áƒžáƒ˜áƒ¡ áƒ’áƒáƒœáƒ—áƒáƒ•áƒ¡áƒ”áƒ‘áƒ",
      features: ["áƒ›áƒáƒ›áƒ¡áƒáƒ®áƒ£áƒ áƒ”áƒ‘áƒ", "áƒ™áƒ•áƒ”áƒ‘áƒ", "áƒ“áƒáƒ¡áƒ£áƒ¤áƒ—áƒáƒ•áƒ”áƒ‘áƒ", "áƒ›áƒ˜áƒ›áƒ¦áƒ”áƒ‘áƒ˜"]
    },
    vehicles: {
      name: "áƒ¡áƒáƒ¢áƒ áƒáƒœáƒ¡áƒžáƒáƒ áƒ¢áƒ áƒ¡áƒáƒ¨áƒ£áƒáƒšáƒ”áƒ‘áƒ”áƒ‘áƒ˜",
      description: "áƒ›áƒ’áƒ–áƒáƒ•áƒ áƒáƒ‘áƒ˜áƒ¡áƒ—áƒ•áƒ˜áƒ¡ áƒ¢áƒ áƒáƒœáƒ¡áƒžáƒáƒ áƒ¢áƒ˜",
      features: ["ATV", "áƒ‘áƒ˜áƒªáƒ˜áƒ™áƒšáƒ”áƒ‘áƒ˜", "áƒ¯áƒ˜áƒžáƒ”áƒ‘áƒ˜", "áƒ¢áƒ£áƒ áƒ˜áƒ¡áƒ¢áƒ£áƒšáƒ˜ áƒáƒ•áƒ¢áƒáƒ‘áƒ£áƒ¡áƒ”áƒ‘áƒ˜"]
    },
    horses: {
      name: "áƒªáƒ®áƒ”áƒœáƒ”áƒ‘áƒ˜",
      description: "áƒªáƒ®áƒ”áƒœáƒáƒ¡áƒœáƒáƒ‘áƒ˜áƒ¡ áƒ¡áƒ”áƒ áƒ•áƒ˜áƒ¡áƒ˜",
      features: ["áƒªáƒ®áƒ”áƒœáƒ˜áƒ— áƒ¢áƒ£áƒ áƒ˜", "áƒªáƒ®áƒ”áƒœáƒáƒ¡áƒœáƒáƒ‘áƒ˜áƒ¡ áƒ¢áƒ áƒ”áƒœáƒ˜áƒœáƒ’áƒ”áƒ‘áƒ˜", "áƒ”áƒ¥áƒ¡áƒ™áƒ£áƒ áƒ¡áƒ˜áƒ”áƒ‘áƒ˜"]
    },
    snowmobiles: {
      name: "áƒ—áƒáƒ•áƒšáƒ›áƒáƒ‘áƒ˜áƒšáƒ”áƒ‘áƒ˜",
      description: "áƒ–áƒáƒ›áƒ—áƒ áƒ˜áƒ¡ áƒ¢áƒ áƒáƒœáƒ¡áƒžáƒáƒ áƒ¢áƒ˜",
      features: ["áƒ¡áƒ™áƒ˜ áƒ¢áƒ áƒáƒ¡áƒ”áƒ‘áƒ–áƒ” áƒ›áƒ’áƒ–áƒáƒ•áƒ áƒáƒ‘áƒ", "áƒ–áƒáƒ›áƒ—áƒ áƒ˜áƒ¡ áƒ¢áƒ£áƒ áƒ”áƒ‘áƒ˜", "áƒ”áƒ¥áƒ¡áƒ¢áƒ áƒ”áƒ›áƒáƒšáƒ£áƒ áƒ˜ áƒ¡áƒžáƒáƒ áƒ¢áƒ˜"]
    }
  },

  // áƒ¢áƒ”áƒ¥áƒœáƒ˜áƒ™áƒ£áƒ áƒ˜ áƒ¡áƒ˜áƒ¡áƒ¢áƒ”áƒ›áƒ”áƒ‘áƒ˜
  technical_systems: {
    booking: {
      name: "áƒ¯áƒáƒ•áƒ¨áƒœáƒ˜áƒ¡ áƒ¡áƒ˜áƒ¡áƒ¢áƒ”áƒ›áƒ",
      process: [
        "áƒ›áƒáƒ›áƒ®áƒ›áƒáƒ áƒ”áƒ‘áƒ”áƒšáƒ˜ áƒ˜áƒ áƒ©áƒ”áƒ•áƒ¡ áƒ™áƒáƒ¢áƒ”áƒ’áƒáƒ áƒ˜áƒáƒ¡",
        "áƒáƒ¡áƒ áƒ©áƒ”áƒ•áƒ¡ áƒ—áƒáƒ áƒ˜áƒ¦áƒ”áƒ‘áƒ¡ áƒ“áƒ áƒáƒ“áƒáƒ›áƒ˜áƒáƒœáƒ”áƒ‘áƒ˜áƒ¡ áƒ áƒáƒáƒ“áƒ”áƒœáƒáƒ‘áƒáƒ¡", 
        "áƒ•áƒáƒšáƒ˜áƒ“áƒáƒªáƒ˜áƒ áƒ®áƒ“áƒ”áƒ‘áƒ áƒ®áƒ”áƒšáƒ›áƒ˜áƒ¡áƒáƒ¬áƒ•áƒ“áƒáƒ›áƒáƒ‘áƒ˜áƒ¡áƒ",
        "áƒ¤áƒáƒ¡áƒ˜áƒ¡ áƒ’áƒáƒ›áƒáƒ—áƒ•áƒšáƒ áƒ¢áƒáƒ áƒ˜áƒ¤áƒ”áƒ‘áƒ˜áƒ¡ áƒ›áƒ˜áƒ®áƒ”áƒ“áƒ•áƒ˜áƒ—",
        "áƒ’áƒáƒ“áƒáƒ®áƒ“áƒ˜áƒ¡ áƒžáƒ áƒáƒªáƒ”áƒ¡áƒ˜",
        "áƒ“áƒáƒ“áƒáƒ¡áƒ¢áƒ£áƒ áƒ”áƒ‘áƒ áƒ“áƒ áƒœáƒáƒ¢áƒ˜áƒ¤áƒ˜áƒ™áƒáƒªáƒ˜áƒ"
      ]
    },
    pricing: {
      name: "áƒ¤áƒáƒ¡áƒ”áƒ‘áƒ˜áƒ¡ áƒ¡áƒ˜áƒ¡áƒ¢áƒ”áƒ›áƒ",
      components: [
        "áƒ‘áƒáƒ–áƒ˜áƒ¡áƒ£áƒ áƒ˜ áƒ¤áƒáƒ¡áƒ”áƒ‘áƒ˜ áƒ§áƒáƒ•áƒ”áƒš áƒ™áƒáƒ¢áƒ”áƒ’áƒáƒ áƒ˜áƒáƒ–áƒ”",
        "áƒ¡áƒ”áƒ–áƒáƒœáƒ£áƒ áƒ˜ áƒ¤áƒáƒ¡áƒ”áƒ‘áƒ˜ (áƒ–áƒáƒ¤áƒ®áƒ£áƒšáƒ˜/áƒ–áƒáƒ›áƒ—áƒáƒ áƒ˜)",
        "áƒ“áƒ¦áƒ”áƒ”áƒ‘áƒ˜áƒ¡ áƒ›áƒ˜áƒ®áƒ”áƒ“áƒ•áƒ˜áƒ— (áƒ¨áƒáƒ‘áƒáƒ—-áƒ™áƒ•áƒ˜áƒ áƒ/áƒ¡áƒ®áƒ•áƒ)",
        "áƒ®áƒáƒœáƒ’áƒ áƒ«áƒšáƒ˜áƒ•áƒáƒ‘áƒ˜áƒ¡ áƒ¤áƒáƒ¡áƒ“áƒáƒ™áƒšáƒ”áƒ‘áƒ”áƒ‘áƒ˜",
        "áƒ¡áƒžáƒ”áƒªáƒ˜áƒáƒšáƒ£áƒ áƒ˜ áƒáƒ¤áƒ”áƒ áƒ”áƒ‘áƒ˜"
      ]
    },
    user_management: {
      name: "áƒ›áƒáƒ›áƒ®áƒ›áƒáƒ áƒ”áƒ‘áƒšáƒ”áƒ‘áƒ˜áƒ¡ áƒ›áƒáƒ áƒ—áƒ•áƒ",
      roles: [
        "Customer - áƒ©áƒ•áƒ”áƒ£áƒšáƒ”áƒ‘áƒ áƒ˜áƒ•áƒ˜ áƒ›áƒáƒ›áƒ®áƒ›áƒáƒ áƒ”áƒ‘áƒ”áƒšáƒ˜",
        "Provider - áƒ›áƒáƒ›áƒ¡áƒáƒ®áƒ£áƒ áƒ”áƒ‘áƒ˜áƒ¡ áƒžáƒ áƒáƒ•áƒáƒ˜áƒ“áƒ”áƒ áƒ˜", 
        "Admin - áƒáƒ“áƒ›áƒ˜áƒœáƒ˜áƒ¡áƒ¢áƒ áƒáƒ¢áƒáƒ áƒ˜",
        "Super Admin - áƒ¡áƒ£áƒžáƒ”áƒ  áƒáƒ“áƒ›áƒ˜áƒœáƒ˜áƒ¡áƒ¢áƒ áƒáƒ¢áƒáƒ áƒ˜"
      ]
    }
  },

  // áƒáƒ“áƒ›áƒ˜áƒœáƒ˜áƒ¡áƒ¢áƒ áƒáƒªáƒ˜áƒ£áƒšáƒ˜ áƒ¡áƒ˜áƒ¡áƒ¢áƒ”áƒ›áƒ”áƒ‘áƒ˜
  admin_features: {
    dashboard: "áƒ›áƒ—áƒáƒ•áƒáƒ áƒ˜ áƒ“áƒáƒ¤áƒ áƒ¡áƒ¢áƒáƒ¢áƒ˜áƒ¡áƒ¢áƒ˜áƒ™áƒ˜áƒ—",
    bookings: "áƒ¯áƒáƒ•áƒ¨áƒœáƒ”áƒ‘áƒ˜áƒ¡ áƒ›áƒáƒ áƒ—áƒ•áƒ áƒ“áƒ áƒ›áƒáƒœáƒ˜áƒ¢áƒáƒ áƒ˜áƒœáƒ’áƒ˜",
    users: "áƒ›áƒáƒ›áƒ®áƒ›áƒáƒ áƒ”áƒ‘áƒšáƒ”áƒ‘áƒ˜áƒ¡ áƒ›áƒáƒ áƒ—áƒ•áƒ áƒ“áƒ áƒ áƒáƒšáƒ”áƒ‘áƒ˜áƒ¡ áƒ’áƒáƒœáƒáƒ¬áƒ˜áƒšáƒ”áƒ‘áƒ",
    providers: "áƒžáƒ áƒáƒ•áƒáƒ˜áƒ“áƒ”áƒ áƒ”áƒ‘áƒ˜áƒ¡ áƒ›áƒáƒ áƒ—áƒ•áƒ áƒ“áƒ áƒ™áƒáƒ›áƒ˜áƒ¡áƒ˜áƒ”áƒ‘áƒ˜",
    pricing: "áƒ¤áƒáƒ¡áƒ”áƒ‘áƒ˜áƒ¡ áƒ™áƒáƒœáƒ¤áƒ˜áƒ’áƒ£áƒ áƒáƒªáƒ˜áƒ",
    notifications: "áƒ¨áƒ”áƒ¢áƒ§áƒáƒ‘áƒ˜áƒœáƒ”áƒ‘áƒ”áƒ‘áƒ˜áƒ¡ áƒ¡áƒ˜áƒ¡áƒ¢áƒ”áƒ›áƒ",
    reports: "áƒáƒœáƒáƒšáƒ˜áƒ¢áƒ˜áƒ™áƒ áƒ“áƒ áƒ áƒ”áƒžáƒáƒ áƒ¢áƒ”áƒ‘áƒ˜"
  },

  // áƒ¢áƒ”áƒ¥áƒœáƒáƒšáƒáƒ’áƒ˜áƒ”áƒ‘áƒ˜
  technologies: {
    frontend: "React + TypeScript + Tailwind CSS",
    backend: "Node.js + Express + Firebase",
    database: "Firestore (NoSQL)",
    auth: "Firebase Authentication", 
    ai: "Groq API (Llama models)",
    deployment: "Replit Platform"
  },

  // áƒ«áƒ˜áƒ áƒ˜áƒ—áƒáƒ“áƒ˜ áƒ¤áƒ£áƒœáƒ¥áƒªáƒ˜áƒ”áƒ‘áƒ˜
  core_features: [
    "áƒ áƒ”áƒáƒš-áƒ“áƒ áƒáƒ˜áƒ¡ áƒ®áƒ”áƒšáƒ›áƒ˜áƒ¡áƒáƒ¬áƒ•áƒ“áƒáƒ›áƒáƒ‘áƒ˜áƒ¡ áƒ¨áƒ”áƒ›áƒáƒ¬áƒ›áƒ”áƒ‘áƒ",
    "áƒáƒ•áƒ¢áƒáƒ›áƒáƒ¢áƒ£áƒ áƒ˜ áƒ¤áƒáƒ¡áƒ”áƒ‘áƒ˜áƒ¡ áƒ’áƒáƒ›áƒáƒ—áƒ•áƒšáƒ",
    "áƒ›áƒ áƒáƒ•áƒáƒšáƒ”áƒœáƒáƒ•áƒáƒœáƒ˜ áƒ›áƒ®áƒáƒ áƒ“áƒáƒ­áƒ”áƒ áƒ (áƒ¥áƒáƒ áƒ—áƒ£áƒšáƒ˜/áƒ˜áƒœáƒ’áƒšáƒ˜áƒ¡áƒ£áƒ áƒ˜)", 
    "áƒ›áƒáƒ‘áƒáƒ˜áƒšáƒ–áƒ” áƒáƒžáƒ¢áƒ˜áƒ›áƒ˜áƒ–áƒ”áƒ‘áƒ£áƒšáƒ˜ áƒ“áƒ˜áƒ–áƒáƒ˜áƒœáƒ˜",
    "áƒ’áƒáƒœáƒáƒ®áƒšáƒ”áƒ‘áƒáƒ“áƒ˜ áƒ—áƒ”áƒ›áƒ (áƒ›áƒ£áƒ¥áƒ˜/áƒ¦áƒ˜áƒ áƒ áƒ”áƒŸáƒ˜áƒ›áƒ˜)",
    "AI áƒáƒ¡áƒ˜áƒ¡áƒ¢áƒ”áƒœáƒ¢áƒ˜ áƒ¢áƒ”áƒ¥áƒœáƒ˜áƒ™áƒ£áƒ áƒ˜ áƒ›áƒ®áƒáƒ áƒ“áƒáƒ­áƒ”áƒ áƒ˜áƒ¡áƒ—áƒ•áƒ˜áƒ¡",
    "áƒ¨áƒ”áƒ¢áƒ§áƒáƒ‘áƒ˜áƒœáƒ”áƒ‘áƒ”áƒ‘áƒ˜áƒ¡ áƒ¡áƒ˜áƒ¡áƒ¢áƒ”áƒ›áƒ",
    "áƒ’áƒáƒ“áƒáƒ®áƒ“áƒ˜áƒ¡ áƒ˜áƒœáƒ¢áƒ”áƒ’áƒ áƒáƒªáƒ˜áƒ"
  ]
};

// Enhanced áƒ’áƒáƒœáƒ¡áƒáƒ–áƒ¦áƒ•áƒ áƒ£áƒšáƒ˜ áƒ¨áƒáƒ‘áƒšáƒáƒœáƒ”áƒ‘áƒ˜ RAG áƒáƒžáƒ¢áƒ˜áƒ›áƒ˜áƒ–áƒáƒªáƒ˜áƒ˜áƒ¡áƒ—áƒ•áƒ˜áƒ¡
const RESPONSE_TEMPLATES = {
  platform_overview: () => {
    return `ðŸ”ï¸ **áƒ‘áƒáƒ®áƒ›áƒáƒ áƒáƒ¡ áƒ‘áƒ£áƒ™áƒ˜áƒœáƒ’ áƒžáƒšáƒáƒ¢áƒ¤áƒáƒ áƒ›áƒ**

ðŸ“‹ **áƒ«áƒ˜áƒ áƒ˜áƒ—áƒáƒ“áƒ˜ áƒ™áƒáƒ¢áƒ”áƒ’áƒáƒ áƒ˜áƒ”áƒ‘áƒ˜:**
â€¢ ðŸ  áƒ™áƒáƒ¢áƒ”áƒ¯áƒ”áƒ‘áƒ˜ - áƒ«áƒ˜áƒ áƒ˜áƒ—áƒáƒ“áƒ˜ áƒ“áƒáƒ¡áƒ•áƒ”áƒœáƒ”áƒ‘áƒ˜áƒ¡ áƒœáƒáƒ’áƒ”áƒ‘áƒáƒ‘áƒ”áƒ‘áƒ˜
â€¢ ðŸ¨ áƒ¡áƒáƒ¡áƒ¢áƒ£áƒ›áƒ áƒáƒ”áƒ‘áƒ˜ - áƒ¡áƒáƒ¡áƒ¢áƒ£áƒ›áƒ áƒ áƒ¢áƒ˜áƒžáƒ˜áƒ¡ áƒ’áƒáƒœáƒ—áƒáƒ•áƒ¡áƒ”áƒ‘áƒ  
â€¢ ðŸš— áƒ¡áƒáƒ¢áƒ áƒáƒœáƒ¡áƒžáƒáƒ áƒ¢áƒ áƒ¡áƒáƒ¨áƒ£áƒáƒšáƒ”áƒ‘áƒ”áƒ‘áƒ˜ - ATV, áƒ‘áƒ˜áƒªáƒ˜áƒ™áƒšáƒ”áƒ‘áƒ˜, áƒ¯áƒ˜áƒžáƒ”áƒ‘áƒ˜
â€¢ ðŸŽ áƒªáƒ®áƒ”áƒœáƒ”áƒ‘áƒ˜ - áƒªáƒ®áƒ”áƒœáƒáƒ¡áƒœáƒáƒ‘áƒ˜áƒ¡ áƒ¡áƒ”áƒ áƒ•áƒ˜áƒ¡áƒ˜ áƒ“áƒ áƒ¢áƒ£áƒ áƒ”áƒ‘áƒ˜
â€¢ ðŸ›· áƒ—áƒáƒ•áƒšáƒ›áƒáƒ‘áƒ˜áƒšáƒ”áƒ‘áƒ˜ - áƒ–áƒáƒ›áƒ—áƒ áƒ˜áƒ¡ áƒ¢áƒ áƒáƒœáƒ¡áƒžáƒáƒ áƒ¢áƒ˜

âš™ï¸ **áƒ¢áƒ”áƒ¥áƒœáƒ˜áƒ™áƒ£áƒ áƒ˜ áƒ¡áƒ˜áƒ¡áƒ¢áƒ”áƒ›áƒ”áƒ‘áƒ˜:**
â€¢ áƒ¯áƒáƒ•áƒ¨áƒœáƒ˜áƒ¡ áƒ¡áƒ˜áƒ¡áƒ¢áƒ”áƒ›áƒ - áƒ áƒ”áƒáƒš-áƒ“áƒ áƒáƒ˜áƒ¡ áƒ®áƒ”áƒšáƒ›áƒ˜áƒ¡áƒáƒ¬áƒ•áƒ“áƒáƒ›áƒáƒ‘áƒ
â€¢ áƒ¤áƒáƒ¡áƒ”áƒ‘áƒ˜áƒ¡ áƒ¡áƒ˜áƒ¡áƒ¢áƒ”áƒ›áƒ - áƒ¡áƒ”áƒ–áƒáƒœáƒ£áƒ áƒ˜ áƒ“áƒ áƒáƒ•áƒ¢áƒáƒ›áƒáƒ¢áƒ£áƒ áƒ˜ áƒ’áƒáƒ›áƒáƒ—áƒ•áƒšáƒ
â€¢ áƒ›áƒáƒ›áƒ®áƒ›áƒáƒ áƒ”áƒ‘áƒšáƒ”áƒ‘áƒ˜áƒ¡ áƒ›áƒáƒ áƒ—áƒ•áƒ - 4 áƒ¢áƒ˜áƒžáƒ˜áƒ¡ áƒ áƒáƒšáƒ˜
â€¢ AI áƒáƒ¡áƒ˜áƒ¡áƒ¢áƒ”áƒœáƒ¢áƒ˜ - áƒ¢áƒ”áƒ¥áƒœáƒ˜áƒ™áƒ£áƒ áƒ˜ áƒ›áƒ®áƒáƒ áƒ“áƒáƒ­áƒ”áƒ áƒ

ðŸ”§ **áƒ¢áƒ”áƒ¥áƒœáƒáƒšáƒáƒ’áƒ˜áƒ”áƒ‘áƒ˜:**
â€¢ Frontend: React + TypeScript + Tailwind CSS
â€¢ Backend: Node.js + Express + Firebase
â€¢ Database: Firestore (NoSQL)
â€¢ AI: Groq API (Llama models)
â€¢ Deployment: Replit Platform`;
  },

  // NEW: Multi-stage project structure template
  project_structure_detailed: () => {
    return `ðŸ—ï¸ **áƒžáƒ áƒáƒ”áƒ¥áƒ¢áƒ˜áƒ¡ áƒ“áƒ”áƒ¢áƒáƒšáƒ£áƒ áƒ˜ áƒ¡áƒ¢áƒ áƒ£áƒ¥áƒ¢áƒ£áƒ áƒ:**

ðŸ“ **Frontend Structure (src/):**
â€¢ components/ - UI áƒ™áƒáƒ›áƒžáƒáƒœáƒ”áƒœáƒ¢áƒ”áƒ‘áƒ˜ áƒ“áƒ áƒ•áƒ˜áƒ¯áƒ”áƒ¢áƒ”áƒ‘áƒ˜
  - BookingModal.tsx, Calendar.tsx, PricingManager.tsx
  - AIAssistantEnhanced.tsx, ThemeToggle.tsx
â€¢ pages/ - áƒ›áƒ—áƒáƒ•áƒáƒ áƒ˜ áƒ’áƒ•áƒ”áƒ áƒ“áƒ”áƒ‘áƒ˜áƒ¡ áƒ™áƒáƒ›áƒžáƒáƒœáƒ”áƒœáƒ¢áƒ”áƒ‘áƒ˜
  - MainPage.tsx, UserDashboard.tsx, AdminPages
â€¢ services/ - áƒ‘áƒ˜áƒ–áƒœáƒ”áƒ¡ áƒšáƒáƒ’áƒ˜áƒ™áƒ˜áƒ¡ áƒ¡áƒ”áƒ áƒ•áƒ˜áƒ¡áƒ”áƒ‘áƒ˜
  - bookingService.ts, userService.ts, priceCodeService.ts
â€¢ utils/ - áƒ“áƒáƒ›áƒ®áƒ›áƒáƒ áƒ” áƒ¤áƒ£áƒœáƒ¥áƒªáƒ˜áƒ”áƒ‘áƒ˜ áƒ“áƒ áƒ•áƒáƒšáƒ˜áƒ“áƒáƒªáƒ˜áƒ
â€¢ types/ - TypeScript áƒ¢áƒ˜áƒžáƒ”áƒ‘áƒ˜áƒ¡ áƒ’áƒáƒœáƒ¡áƒáƒ–áƒ¦áƒ•áƒ áƒ”áƒ‘áƒ˜

ðŸ“ **Backend Structure (backend/):**
â€¢ services/ - áƒ¡áƒ”áƒ áƒ•áƒ˜áƒ¡áƒ”áƒ‘áƒ˜áƒ¡ áƒšáƒ”áƒ˜áƒ”áƒ áƒ˜
  - ai_controller.js, codeAnalyzer.js, groq_service.js
â€¢ routes/ - API endpoints áƒ“áƒ routing
â€¢ controllers/ - áƒ‘áƒ˜áƒ–áƒœáƒ”áƒ¡ áƒšáƒáƒ’áƒ˜áƒ™áƒ˜áƒ¡ áƒ™áƒáƒœáƒ¢áƒ áƒáƒšáƒ”áƒ áƒ”áƒ‘áƒ˜
â€¢ utils/ - áƒ¥áƒáƒ áƒ—áƒ£áƒšáƒ˜ áƒ”áƒœáƒ˜áƒ¡ áƒ•áƒáƒšáƒ˜áƒ“áƒáƒªáƒ˜áƒ áƒ“áƒ áƒ¡áƒ®áƒ•áƒ áƒ“áƒáƒ›áƒ®áƒ›áƒáƒ áƒ” áƒ¤áƒ£áƒœáƒ¥áƒªáƒ˜áƒ”áƒ‘áƒ˜
â€¢ middleware/ - áƒáƒ•áƒ—áƒ”áƒœáƒ¢áƒ˜áƒ¤áƒ˜áƒ™áƒáƒªáƒ˜áƒ áƒ“áƒ error handling

ðŸ“ **Configuration & Assets:**
â€¢ public/ - áƒ¡áƒ¢áƒáƒ¢áƒ˜áƒ™áƒ£áƒ áƒ˜ áƒ¤áƒáƒ˜áƒšáƒ”áƒ‘áƒ˜
â€¢ functions/ - Firebase Cloud Functions
â€¢ attached_assets/ - áƒ¤áƒáƒ˜áƒšáƒ”áƒ‘áƒ˜áƒ¡ áƒ›áƒ˜áƒ›áƒáƒ’áƒ áƒ”áƒ‘áƒ áƒ“áƒ áƒ¢áƒ”áƒ¡áƒ¢áƒ”áƒ‘áƒ˜`;
  },

  // NEW: Component mapping template
  component_mapping: () => {
    return `ðŸ§© **áƒ™áƒáƒ›áƒžáƒáƒœáƒ”áƒœáƒ¢áƒ”áƒ‘áƒ˜áƒ¡ áƒ áƒ£áƒ™áƒ:**

ðŸ“‹ **áƒ«áƒ˜áƒ áƒ˜áƒ—áƒáƒ“áƒ˜ UI áƒ™áƒáƒ›áƒžáƒáƒœáƒ”áƒœáƒ¢áƒ”áƒ‘áƒ˜:**
â€¢ BookingModal.tsx - áƒ¯áƒáƒ•áƒ¨áƒœáƒ˜áƒ¡ áƒ›áƒ—áƒáƒ•áƒáƒ áƒ˜ áƒ¤áƒáƒœáƒ¯áƒáƒ áƒ
â€¢ Calendar.tsx - áƒ—áƒáƒ áƒ˜áƒ¦áƒ”áƒ‘áƒ˜áƒ¡ áƒáƒ áƒ©áƒ”áƒ•áƒ˜áƒ¡ áƒ™áƒáƒšáƒ”áƒœáƒ“áƒáƒ áƒ˜
â€¢ PricingManager.tsx - áƒ¤áƒáƒ¡áƒ”áƒ‘áƒ˜áƒ¡ áƒ›áƒáƒ áƒ—áƒ•áƒ áƒ“áƒ áƒ™áƒáƒšáƒ™áƒ£áƒšáƒáƒªáƒ˜áƒ
â€¢ AIAssistantEnhanced.tsx - AI áƒáƒ¡áƒ˜áƒ¡áƒ¢áƒ”áƒœáƒ¢áƒ˜áƒ¡ áƒ˜áƒœáƒ¢áƒ”áƒ áƒ¤áƒ”áƒ˜áƒ¡áƒ˜

ðŸ“‹ **áƒáƒ“áƒ›áƒ˜áƒœáƒ˜áƒ¡áƒ¢áƒ áƒáƒªáƒ˜áƒ£áƒšáƒ˜ áƒ™áƒáƒ›áƒžáƒáƒœáƒ”áƒœáƒ¢áƒ”áƒ‘áƒ˜:**
â€¢ AdminCottages.tsx - áƒ™áƒáƒ¢áƒ”áƒ¯áƒ”áƒ‘áƒ˜áƒ¡ áƒ›áƒáƒ áƒ—áƒ•áƒ
â€¢ AdminUsers.tsx - áƒ›áƒáƒ›áƒ®áƒ›áƒáƒ áƒ”áƒ‘áƒšáƒ”áƒ‘áƒ˜áƒ¡ áƒ›áƒáƒ áƒ—áƒ•áƒ
â€¢ MainDashboard.tsx - áƒáƒ“áƒ›áƒ˜áƒœáƒ˜áƒ¡áƒ¢áƒ áƒáƒªáƒ˜áƒ£áƒšáƒ˜ áƒ“áƒáƒ¨áƒ‘áƒáƒ áƒ“áƒ˜

ðŸ“‹ **áƒ¡áƒ”áƒ áƒ•áƒ˜áƒ¡áƒ”áƒ‘áƒ˜áƒ¡ áƒšáƒ”áƒ˜áƒ”áƒ áƒ˜:**
â€¢ bookingService.ts - áƒ¯áƒáƒ•áƒ¨áƒœáƒ˜áƒ¡ áƒ§áƒ•áƒ”áƒšáƒ áƒšáƒáƒ’áƒ˜áƒ™áƒ
â€¢ userService.ts - áƒ›áƒáƒ›áƒ®áƒ›áƒáƒ áƒ”áƒ‘áƒšáƒ”áƒ‘áƒ˜áƒ¡ áƒ›áƒáƒ áƒ—áƒ•áƒ
â€¢ priceCodeService.ts - áƒ¤áƒáƒ¡áƒ”áƒ‘áƒ˜áƒ¡ áƒ™áƒáƒšáƒ™áƒ£áƒšáƒáƒªáƒ˜áƒ
â€¢ notificationService.ts - áƒ¨áƒ”áƒ¢áƒ§áƒáƒ‘áƒ˜áƒœáƒ”áƒ‘áƒ”áƒ‘áƒ˜áƒ¡ áƒ¡áƒ˜áƒ¡áƒ¢áƒ”áƒ›áƒ

ðŸ“‹ **Backend API:**
â€¢ ai_controller.js - AI áƒáƒ¡áƒ˜áƒ¡áƒ¢áƒ”áƒœáƒ¢áƒ˜áƒ¡ áƒ›áƒ—áƒáƒ•áƒáƒ áƒ˜ áƒ™áƒáƒœáƒ¢áƒ áƒáƒšáƒ”áƒ áƒ˜
â€¢ index.js - Express server-áƒ˜áƒ¡ entry point
â€¢ memory_controller.js - AI áƒ›áƒ”áƒ®áƒ¡áƒ˜áƒ”áƒ áƒ”áƒ‘áƒ˜áƒ¡ áƒ›áƒáƒ áƒ—áƒ•áƒ`;
  },

  // NEW: Key files mapping for RAG
  key_files_mapping: () => {
    return `ðŸ—‚ï¸ **áƒ›áƒœáƒ˜áƒ¨áƒ•áƒœáƒ”áƒšáƒáƒ•áƒáƒœáƒ˜ áƒ¤áƒáƒ˜áƒšáƒ”áƒ‘áƒ˜áƒ¡ áƒ áƒ£áƒ™áƒ:**

ðŸ”´ **Critical Core Files:**
â€¢ src/App.tsx - áƒ›áƒ—áƒáƒ•áƒáƒ áƒ˜ React áƒáƒžáƒšáƒ˜áƒ™áƒáƒªáƒ˜áƒ
â€¢ src/MainPage.tsx - áƒšáƒ”áƒœáƒ“áƒ˜áƒœáƒ’ áƒ’áƒ•áƒ”áƒ áƒ“áƒ˜
â€¢ backend/index.js - Backend server
â€¢ backend/ai_controller.js - AI áƒ¡áƒ˜áƒ¡áƒ¢áƒ”áƒ›áƒ˜áƒ¡ áƒ«áƒ˜áƒ áƒ˜áƒ—áƒáƒ“áƒ˜ áƒšáƒáƒ’áƒ˜áƒ™áƒ

ðŸŸ¡ **Business Logic Files:**
â€¢ src/services/bookingService.ts - áƒ¯áƒáƒ•áƒ¨áƒœáƒ˜áƒ¡ áƒ¡áƒ áƒ£áƒšáƒ˜ áƒšáƒáƒ’áƒ˜áƒ™áƒ
â€¢ src/utils/pricing.ts - áƒ¤áƒáƒ¡áƒ”áƒ‘áƒ˜áƒ¡ áƒ’áƒáƒ›áƒáƒ—áƒ•áƒšáƒ˜áƒ¡ áƒáƒšáƒ’áƒáƒ áƒ˜áƒ—áƒ›áƒ”áƒ‘áƒ˜
â€¢ backend/services/groq_service.js - AI áƒ›áƒáƒ“áƒ”áƒšáƒ˜áƒ¡ áƒ˜áƒœáƒ¢áƒ”áƒ’áƒ áƒáƒªáƒ˜áƒ
â€¢ src/components/BookingModal.tsx - áƒ¯áƒáƒ•áƒ¨áƒœáƒ˜áƒ¡ UI

ðŸŸ¢ **Supporting Files:**
â€¢ src/firebaseConfig.ts - Firebase áƒ™áƒáƒœáƒ¤áƒ˜áƒ’áƒ£áƒ áƒáƒªáƒ˜áƒ
â€¢ src/components/Calendar.tsx - áƒ—áƒáƒ áƒ˜áƒ¦áƒ”áƒ‘áƒ˜áƒ¡ áƒšáƒáƒ’áƒ˜áƒ™áƒ
â€¢ backend/memory_controller.js - AI áƒ™áƒáƒœáƒ¢áƒ”áƒ¥áƒ¡áƒ¢áƒ˜áƒ¡ áƒ›áƒáƒ áƒ—áƒ•áƒ
â€¢ src/services/userService.ts - áƒ›áƒáƒ›áƒ®áƒ›áƒáƒ áƒ”áƒ‘áƒšáƒ”áƒ‘áƒ˜áƒ¡ API

ðŸ”µ **Configuration Files:**
â€¢ package.json - Dependencies
â€¢ tsconfig.json - TypeScript áƒ™áƒáƒœáƒ¤áƒ˜áƒ’áƒ£áƒ áƒáƒªáƒ˜áƒ
â€¢ vite.config.mts - Build áƒ™áƒáƒœáƒ¤áƒ˜áƒ’áƒ£áƒ áƒáƒªáƒ˜áƒ
â€¢ firebase.json - Firebase deployment settings`;
  },

  booking_process: () => {
    return `ðŸ“ **áƒ¯áƒáƒ•áƒ¨áƒœáƒ˜áƒ¡ áƒžáƒ áƒáƒªáƒ”áƒ¡áƒ˜:**

1ï¸âƒ£ **áƒ™áƒáƒ¢áƒ”áƒ’áƒáƒ áƒ˜áƒ˜áƒ¡ áƒáƒ áƒ©áƒ”áƒ•áƒ** - áƒ™áƒáƒ¢áƒ”áƒ¯áƒ˜, áƒ¡áƒáƒ¡áƒ¢áƒ£áƒ›áƒ áƒ, áƒ¢áƒ áƒáƒœáƒ¡áƒžáƒáƒ áƒ¢áƒ˜
2ï¸âƒ£ **áƒ—áƒáƒ áƒ˜áƒ¦áƒ”áƒ‘áƒ˜áƒ¡ áƒ›áƒ˜áƒ—áƒ˜áƒ—áƒ”áƒ‘áƒ** - Check-in/Check-out áƒ“áƒ áƒáƒ”áƒ‘áƒ˜
3ï¸âƒ£ **áƒžáƒáƒ áƒáƒ›áƒ”áƒ¢áƒ áƒ”áƒ‘áƒ˜áƒ¡ áƒ“áƒáƒ§áƒ”áƒœáƒ”áƒ‘áƒ** - áƒáƒ“áƒáƒ›áƒ˜áƒáƒœáƒ”áƒ‘áƒ˜áƒ¡ áƒ áƒáƒáƒ“áƒ”áƒœáƒáƒ‘áƒ, áƒ¡áƒžáƒ”áƒªáƒ˜áƒáƒšáƒ£áƒ áƒ˜ áƒ›áƒáƒ—áƒ®áƒáƒ•áƒœáƒ”áƒ‘áƒ˜
4ï¸âƒ£ **áƒ®áƒ”áƒšáƒ›áƒ˜áƒ¡áƒáƒ¬áƒ•áƒ“áƒáƒ›áƒáƒ‘áƒ˜áƒ¡ áƒ¨áƒ”áƒ›áƒáƒ¬áƒ›áƒ”áƒ‘áƒ** - áƒ áƒ”áƒáƒš-áƒ“áƒ áƒáƒ˜áƒ¡ áƒ›áƒáƒœáƒáƒªáƒ”áƒ›áƒ”áƒ‘áƒ˜áƒ“áƒáƒœ
5ï¸âƒ£ **áƒ¤áƒáƒ¡áƒ˜áƒ¡ áƒ’áƒáƒ›áƒáƒ—áƒ•áƒšáƒ** - áƒ¡áƒ”áƒ–áƒáƒœáƒ£áƒ áƒ˜ áƒ¢áƒáƒ áƒ˜áƒ¤áƒ”áƒ‘áƒ˜ + áƒ›áƒáƒ¡áƒáƒ™áƒ áƒ”áƒ‘áƒšáƒ”áƒ‘áƒ˜
6ï¸âƒ£ **áƒ’áƒáƒ“áƒáƒ®áƒ“áƒ˜áƒ¡ áƒžáƒ áƒáƒªáƒ”áƒ¡áƒ˜** - áƒ£áƒ¡áƒáƒ¤áƒ áƒ—áƒ®áƒ áƒáƒœáƒšáƒáƒ˜áƒœ áƒ’áƒáƒ“áƒáƒ®áƒ“áƒ
7ï¸âƒ£ **áƒ“áƒáƒ“áƒáƒ¡áƒ¢áƒ£áƒ áƒ”áƒ‘áƒ** - áƒáƒ•áƒ¢áƒáƒ›áƒáƒ¢áƒ£áƒ áƒ˜ áƒœáƒáƒ¢áƒ˜áƒ¤áƒ˜áƒ™áƒáƒªáƒ˜áƒ`;
  },

  admin_panel: () => {
    return `ðŸ‘¨â€ðŸ’¼ **áƒáƒ“áƒ›áƒ˜áƒœáƒ˜áƒ¡áƒ¢áƒ áƒáƒªáƒ˜áƒ£áƒšáƒ˜ áƒžáƒáƒœáƒ”áƒšáƒ˜:**

ðŸ“Š **áƒ›áƒ—áƒáƒ•áƒáƒ áƒ˜ áƒ“áƒáƒ¤áƒ:**
â€¢ áƒ¡áƒ¢áƒáƒ¢áƒ˜áƒ¡áƒ¢áƒ˜áƒ™áƒ áƒ“áƒ áƒáƒœáƒáƒšáƒ˜áƒ¢áƒ˜áƒ™áƒ
â€¢ áƒ áƒ”áƒáƒš-áƒ“áƒ áƒáƒ˜áƒ¡ áƒ¯áƒáƒ•áƒ¨áƒœáƒ”áƒ‘áƒ˜áƒ¡ áƒ›áƒáƒœáƒ˜áƒ¢áƒáƒ áƒ˜áƒœáƒ’áƒ˜
â€¢ áƒ¨áƒ”áƒ›áƒáƒ¡áƒáƒ•áƒšáƒ˜áƒ¡ áƒáƒœáƒ’áƒáƒ áƒ˜áƒ¨áƒ”áƒ‘áƒ˜

ðŸ  **áƒ’áƒáƒœáƒ—áƒáƒ•áƒ¡áƒ”áƒ‘áƒ˜áƒ¡ áƒ›áƒáƒ áƒ—áƒ•áƒ:**
â€¢ áƒ™áƒáƒ¢áƒ”áƒ¯áƒ”áƒ‘áƒ˜áƒ¡, áƒ¡áƒáƒ¡áƒ¢áƒ£áƒ›áƒ áƒáƒ”áƒ‘áƒ˜áƒ¡ áƒ“áƒáƒ›áƒáƒ¢áƒ”áƒ‘áƒ/áƒ áƒ”áƒ“áƒáƒ¥áƒ¢áƒ˜áƒ áƒ”áƒ‘áƒ
â€¢ áƒ¤áƒáƒ¢áƒáƒ”áƒ‘áƒ˜áƒ¡ áƒ“áƒ áƒ¤áƒáƒ¡áƒ”áƒ‘áƒ˜áƒ¡ áƒ’áƒáƒœáƒáƒ®áƒšáƒ”áƒ‘áƒ
â€¢ áƒ®áƒ”áƒšáƒ›áƒ˜áƒ¡áƒáƒ¬áƒ•áƒ“áƒáƒ›áƒáƒ‘áƒ˜áƒ¡ áƒ™áƒáƒšáƒ”áƒœáƒ“áƒáƒ áƒ˜

ðŸ‘¥ **áƒ›áƒáƒ›áƒ®áƒ›áƒáƒ áƒ”áƒ‘áƒšáƒ”áƒ‘áƒ˜áƒ¡ áƒ›áƒáƒ áƒ—áƒ•áƒ:**
â€¢ Customer, Provider, Admin áƒ áƒáƒšáƒ”áƒ‘áƒ˜
â€¢ áƒáƒ¥áƒ¢áƒ˜áƒ•áƒáƒ‘áƒ˜áƒ¡ áƒ›áƒáƒœáƒ˜áƒ¢áƒáƒ áƒ˜áƒœáƒ’áƒ˜
â€¢ áƒ™áƒáƒ›áƒ˜áƒ¡áƒ˜áƒ”áƒ‘áƒ˜áƒ¡ áƒ’áƒáƒœáƒáƒ¬áƒ˜áƒšáƒ”áƒ‘áƒ

ðŸ“§ **áƒ¨áƒ”áƒ¢áƒ§áƒáƒ‘áƒ˜áƒœáƒ”áƒ‘áƒ”áƒ‘áƒ˜áƒ¡ áƒ¡áƒ˜áƒ¡áƒ¢áƒ”áƒ›áƒ:**
â€¢ áƒ áƒ”áƒáƒš-áƒ“áƒ áƒáƒ˜áƒ¡ áƒœáƒáƒ¢áƒ˜áƒ¤áƒ˜áƒ™áƒáƒªáƒ˜áƒ”áƒ‘áƒ˜
â€¢ áƒáƒ“áƒ›áƒ˜áƒœ-áƒžáƒ áƒáƒ•áƒáƒ˜áƒ“áƒ”áƒ  áƒ™áƒáƒ›áƒ£áƒœáƒ˜áƒ™áƒáƒªáƒ˜áƒ
â€¢ áƒáƒ•áƒ¢áƒáƒ›áƒáƒ¢áƒ£áƒ áƒ˜ áƒ¨áƒ”áƒ¢áƒ§áƒáƒ‘áƒ˜áƒœáƒ”áƒ‘áƒ”áƒ‘áƒ˜`;
  },

  pricing_system: () => {
    return `ðŸ’° **áƒ¤áƒáƒ¡áƒ”áƒ‘áƒ˜áƒ¡ áƒ¡áƒ˜áƒ¡áƒ¢áƒ”áƒ›áƒ:**

ðŸ“ˆ **áƒ¤áƒáƒ¡áƒ”áƒ‘áƒ˜áƒ¡ áƒ¢áƒ˜áƒžáƒ”áƒ‘áƒ˜:**
â€¢ áƒ‘áƒáƒ–áƒ˜áƒ¡áƒ£áƒ áƒ˜ áƒ¤áƒáƒ¡áƒ”áƒ‘áƒ˜ - áƒ—áƒ˜áƒ—áƒáƒ”áƒ£áƒšáƒ˜ áƒ™áƒáƒ¢áƒ”áƒ’áƒáƒ áƒ˜áƒ˜áƒ¡áƒ—áƒ•áƒ˜áƒ¡
â€¢ áƒ¡áƒ”áƒ–áƒáƒœáƒ£áƒ áƒ˜ áƒ¤áƒáƒ¡áƒ”áƒ‘áƒ˜ - áƒ–áƒáƒ¤áƒ®áƒ£áƒšáƒ˜ (áƒ›áƒáƒ˜áƒ¡áƒ˜-áƒ¡áƒ”áƒ¥áƒ¢áƒ”áƒ›áƒ‘áƒ”áƒ áƒ˜) / áƒ–áƒáƒ›áƒ—áƒáƒ áƒ˜
â€¢ áƒ™áƒ•áƒ˜áƒ áƒ˜áƒ¡ áƒ“áƒ¦áƒ”áƒ”áƒ‘áƒ˜áƒ¡ áƒ¤áƒáƒ¡áƒ”áƒ‘áƒ˜ - áƒ¨áƒáƒ‘áƒáƒ—-áƒ™áƒ•áƒ˜áƒ áƒ / áƒ¡áƒáƒ›áƒ£áƒ¨áƒáƒ áƒ“áƒ¦áƒ”áƒ”áƒ‘áƒ˜
â€¢ áƒ®áƒáƒœáƒ’áƒ áƒ«áƒšáƒ˜áƒ•áƒáƒ‘áƒ˜áƒ¡ áƒ¤áƒáƒ¡áƒ“áƒáƒ™áƒšáƒ”áƒ‘áƒ - 3+ áƒ“áƒ¦áƒ˜áƒ¡áƒ—áƒ•áƒ˜áƒ¡

âš™ï¸ **áƒáƒ•áƒ¢áƒáƒ›áƒáƒ¢áƒ£áƒ áƒ˜ áƒ’áƒáƒ›áƒáƒ—áƒ•áƒšáƒ:**
â€¢ áƒ“áƒ¦áƒ”áƒ”áƒ‘áƒ˜áƒ¡ áƒ áƒáƒáƒ“áƒ”áƒœáƒáƒ‘áƒ Ã— áƒ‘áƒáƒ–áƒ˜áƒ¡áƒ£áƒ áƒ˜ áƒ¤áƒáƒ¡áƒ˜
â€¢ áƒ¡áƒ”áƒ–áƒáƒœáƒ£áƒ áƒ˜ áƒ™áƒáƒ”áƒ¤áƒ˜áƒªáƒ˜áƒ”áƒœáƒ¢áƒ˜ (1.2-1.5x)
â€¢ áƒáƒ“áƒáƒ›áƒ˜áƒáƒœáƒ”áƒ‘áƒ˜áƒ¡ áƒ áƒáƒáƒ“áƒ”áƒœáƒáƒ‘áƒ˜áƒ¡ áƒ›áƒ˜áƒ®áƒ”áƒ“áƒ•áƒ˜áƒ—
â€¢ áƒ›áƒáƒ¡áƒáƒ™áƒ áƒ”áƒ‘áƒšáƒ”áƒ‘áƒ˜ áƒ“áƒ áƒ’áƒáƒ“áƒáƒ¡áƒáƒ®áƒáƒ“áƒ”áƒ‘áƒ˜

ðŸŽ¯ **áƒ¡áƒžáƒ”áƒªáƒ˜áƒáƒšáƒ£áƒ áƒ˜ áƒáƒ¤áƒ”áƒ áƒ”áƒ‘áƒ˜:**
â€¢ áƒáƒ“áƒ áƒ”áƒ£áƒšáƒ˜ áƒ¯áƒáƒ•áƒ¨áƒœáƒ˜áƒ¡ áƒ¤áƒáƒ¡áƒ“áƒáƒ™áƒšáƒ”áƒ‘áƒ
â€¢ áƒ¯áƒ’áƒ£áƒ¤áƒ£áƒ áƒ˜ áƒ¯áƒáƒ•áƒ¨áƒœáƒ˜áƒ¡ áƒ¤áƒáƒ¡áƒ“áƒáƒ™áƒšáƒ”áƒ‘áƒ
â€¢ áƒšáƒáƒ˜áƒáƒšáƒ£áƒ áƒ˜ áƒ›áƒáƒ›áƒ®áƒ›áƒáƒ áƒ”áƒ‘áƒšáƒ”áƒ‘áƒ˜áƒ¡ áƒ¤áƒáƒ¡áƒ“áƒáƒ™áƒšáƒ”áƒ‘áƒ`;
  }
};

const COMPONENT_SUMMARIES = {
  // Booking related components
  'BookingModal': 'áƒ‘áƒ áƒáƒœáƒ˜áƒ áƒ”áƒ‘áƒ˜áƒ¡ áƒ›áƒáƒ“áƒáƒšáƒ£áƒ áƒ˜ áƒ¤áƒáƒœáƒ¯áƒáƒ áƒ - áƒœáƒáƒ›áƒ áƒ”áƒ‘áƒ˜áƒ¡ áƒ‘áƒ áƒáƒœáƒ˜áƒ áƒ”áƒ‘áƒ˜áƒ¡áƒ—áƒ•áƒ˜áƒ¡, áƒáƒ¡áƒ”áƒ•áƒ” áƒ¤áƒáƒ¡áƒ˜áƒ¡ áƒ’áƒáƒ›áƒáƒ—áƒ•áƒšáƒ áƒ“áƒ áƒ•áƒáƒšáƒ˜áƒ“áƒáƒªáƒ˜áƒ',
  'BookingForm': 'áƒ‘áƒ áƒáƒœáƒ˜áƒ áƒ”áƒ‘áƒ˜áƒ¡ áƒ¤áƒáƒ áƒ›áƒ - áƒ›áƒáƒœáƒáƒªáƒ”áƒ›áƒ”áƒ‘áƒ˜áƒ¡ áƒ¨áƒ”áƒ§áƒ•áƒáƒœáƒ˜áƒ¡áƒ—áƒ•áƒ˜áƒ¡, áƒ—áƒáƒ áƒ˜áƒ¦áƒ”áƒ‘áƒ˜áƒ¡ áƒ¨áƒ”áƒ áƒ©áƒ”áƒ•áƒ áƒ“áƒ áƒ¢áƒ”áƒ áƒ›áƒ˜áƒœáƒ”áƒ‘áƒ˜áƒ¡ áƒ“áƒáƒ“áƒáƒ¡áƒ¢áƒ£áƒ áƒ”áƒ‘áƒ',
  'BookingAuth': 'áƒ‘áƒ áƒáƒœáƒ˜áƒ áƒ”áƒ‘áƒ˜áƒ¡ áƒáƒ•áƒ¢áƒáƒ áƒ˜áƒ–áƒáƒªáƒ˜áƒ - áƒ›áƒáƒ›áƒ®áƒ›áƒáƒ áƒ”áƒ‘áƒšáƒ˜áƒ¡ áƒ¨áƒ”áƒ¡áƒ•áƒšáƒ/áƒ áƒ”áƒ’áƒ˜áƒ¡áƒ¢áƒ áƒáƒªáƒ˜áƒ áƒ‘áƒ áƒáƒœáƒ˜áƒ áƒ”áƒ‘áƒ˜áƒ¡ áƒžáƒ áƒáƒªáƒ”áƒ¡áƒ¨áƒ˜',
  'VehicleBookingForm': 'áƒ¢áƒ áƒáƒœáƒ¡áƒžáƒáƒ áƒ¢áƒ˜áƒ¡ áƒ‘áƒ áƒáƒœáƒ˜áƒ áƒ”áƒ‘áƒ˜áƒ¡ áƒ¤áƒáƒ áƒ›áƒ - áƒ›áƒáƒœáƒ¥áƒáƒœáƒ”áƒ‘áƒ˜áƒ¡, áƒáƒ¢áƒ•áƒ”áƒ‘áƒ˜áƒ¡ áƒ‘áƒ áƒáƒœáƒ˜áƒ áƒ”áƒ‘áƒ',
  'HotelBookingForm': 'áƒ¡áƒáƒ¡áƒ¢áƒ£áƒ›áƒ áƒáƒ¡ áƒ‘áƒ áƒáƒœáƒ˜áƒ áƒ”áƒ‘áƒ˜áƒ¡ áƒ¤áƒáƒ áƒ›áƒ - áƒáƒ—áƒáƒ®áƒ”áƒ‘áƒ˜áƒ¡ áƒ‘áƒ áƒáƒœáƒ˜áƒ áƒ”áƒ‘áƒ áƒ¡áƒáƒ¡áƒ¢áƒ£áƒ›áƒ áƒáƒ”áƒ‘áƒ¨áƒ˜',

  // Admin components  
  'AdminBookings': 'áƒáƒ“áƒ›áƒ˜áƒœáƒ˜áƒ¡áƒ¢áƒ áƒáƒ¢áƒáƒ áƒ˜áƒ¡ áƒ‘áƒ áƒáƒœáƒ˜áƒ áƒ”áƒ‘áƒ˜áƒ¡ áƒ›áƒáƒ áƒ—áƒ•áƒ - áƒ§áƒ•áƒ”áƒšáƒ áƒ‘áƒ áƒáƒœáƒ˜áƒ áƒ”áƒ‘áƒ˜áƒ¡ áƒœáƒáƒ®áƒ•áƒ/áƒ áƒ”áƒ“áƒáƒ¥áƒ¢áƒ˜áƒ áƒ”áƒ‘áƒ',
  'AdminUsers': 'áƒ›áƒáƒ›áƒ®áƒ›áƒáƒ áƒ”áƒ‘áƒšáƒ”áƒ‘áƒ˜áƒ¡ áƒ›áƒáƒ áƒ—áƒ•áƒ - áƒ áƒáƒšáƒ”áƒ‘áƒ˜áƒ¡ áƒ¨áƒ”áƒªáƒ•áƒšáƒ, áƒ¡áƒ¢áƒáƒ¢áƒ˜áƒ¡áƒ¢áƒ˜áƒ™áƒ',
  'AdminCommission': 'áƒ™áƒáƒ›áƒ˜áƒ¡áƒ˜áƒ˜áƒ¡ áƒ›áƒáƒ áƒ—áƒ•áƒ - áƒžáƒ áƒáƒ•áƒáƒ˜áƒ“áƒ”áƒ áƒ”áƒ‘áƒ˜áƒ¡ áƒ™áƒáƒ›áƒ˜áƒ¡áƒ˜áƒ˜áƒ¡ áƒ’áƒáƒ›áƒáƒ—áƒ•áƒšáƒ áƒ“áƒ áƒ’áƒáƒ“áƒáƒ®áƒ“áƒ',
};

// Topic to modules mapping for targeted RAG analysis
const topicToModules = {
  booking: [
    'BookingService.ts', 'bookingService.ts', 'BookingForm.tsx', 
    'BookingModal.tsx', 'BookingAuth.tsx', 'UserBookingsSection.tsx',
    'AdminProviderBookings.tsx', 'ProviderBookings.tsx'
  ],
  pricing: [
    'pricing.ts', 'priceCodeService.ts', 'vehiclePricing.ts',
    'PriceBreakdownCard.tsx', 'PricingManager.tsx', 'PriceTag.tsx'
  ],
  admin: [
    'AdminCottages.tsx', 'AdminUsers.tsx', 'AdminHotels.tsx',
    'AdminProviders.tsx', 'MainDashboard.tsx'
  ],
  cottage: [
    'CottageForm.tsx', 'CottagePage.tsx', 'CottagesList.tsx'
  ],
  messaging: [
    'MessagingSystem.tsx', 'EnhancedMessagingSystem.tsx',
    'AdminMessagingDashboard.tsx', 'messagingService.ts'
  ]
};

class SiteSummary {
  // Get modules for specific topic
  static getModulesForTopic(topic) {
    return topicToModules[topic] || [];
  }

  // Get all available topics
  static getAvailableTopics() {
    return Object.keys(topicToModules);
  }

  // Check if query is asking for static information
  isStaticInfoQuery(message) {
    const staticQueries = [
      'áƒ¡áƒáƒ˜áƒ¢áƒ˜áƒ¡ áƒ¡áƒ áƒ£áƒšáƒ˜ áƒ˜áƒœáƒ¤áƒáƒ áƒ›áƒáƒªáƒ˜áƒ',
      'áƒžáƒšáƒáƒ¢áƒ¤áƒáƒ áƒ›áƒ˜áƒ¡ áƒ“áƒ”áƒ¢áƒáƒšáƒ”áƒ‘áƒ˜', 
      'áƒ’áƒáƒœáƒ¡áƒáƒ–áƒ¦áƒ•áƒ áƒ£áƒšáƒ˜ áƒ˜áƒœáƒ¤áƒáƒ áƒ›áƒáƒªáƒ˜áƒ',
      'áƒ©áƒ”áƒ›áƒ˜ áƒ¡áƒáƒ˜áƒ¢áƒ˜áƒ¡ áƒáƒ¦áƒ¬áƒ”áƒ áƒ',
      'áƒ áƒáƒ’áƒáƒ  áƒ›áƒ£áƒ¨áƒáƒáƒ‘áƒ¡ áƒ©áƒ”áƒ›áƒ˜ áƒ¡áƒáƒ˜áƒ¢áƒ˜',
      'áƒžáƒšáƒáƒ¢áƒ¤áƒáƒ áƒ›áƒ˜áƒ¡ áƒ¡áƒ¢áƒ áƒ£áƒ¥áƒ¢áƒ£áƒ áƒ',
      'áƒ‘áƒáƒ®áƒ›áƒáƒ áƒáƒ¡ áƒ¡áƒ˜áƒ¡áƒ¢áƒ”áƒ›áƒ',
      'áƒ›áƒáƒ™áƒšáƒ” áƒ¨áƒ”áƒ¯áƒáƒ›áƒ”áƒ‘áƒ',
      'bullet point áƒ˜áƒœáƒ¤áƒáƒ áƒ›áƒáƒªáƒ˜áƒ'
    ];

    const lowerMessage = message.toLowerCase();
    return staticQueries.some(query => lowerMessage.includes(query.toLowerCase()));
  }
}

// Enhanced áƒ«áƒ˜áƒ áƒ˜áƒ—áƒáƒ“áƒ˜ áƒ”áƒ¥áƒ¡áƒžáƒáƒ áƒ¢áƒ˜ RAG áƒáƒžáƒ¢áƒ˜áƒ›áƒ˜áƒ–áƒáƒªáƒ˜áƒ˜áƒ¡áƒ—áƒ•áƒ˜áƒ¡
module.exports = {
  BAKHMARO_PLATFORM_INFO,
  RESPONSE_TEMPLATES,

  // Enhanced Helper áƒ¤áƒ£áƒœáƒ¥áƒªáƒ˜áƒ áƒ™áƒáƒœáƒ™áƒ áƒ”áƒ¢áƒ£áƒšáƒ˜ áƒ˜áƒœáƒ¤áƒáƒ áƒ›áƒáƒªáƒ˜áƒ˜áƒ¡áƒ—áƒ•áƒ˜áƒ¡
  getStaticResponse: (queryType) => {
    const templates = RESPONSE_TEMPLATES;

    switch (queryType.toLowerCase()) {
      case 'platform_overview':
      case 'site_info':
      case 'full_info':
        return templates.platform_overview();

      case 'project_structure_detailed':
      case 'project_structure':
      case 'structure_detailed':
        return templates.project_structure_detailed();

      case 'component_mapping':
      case 'components_overview':
        return templates.component_mapping();

      case 'key_files_mapping':
      case 'important_files':
        return templates.key_files_mapping();

      case 'booking_process':
      case 'booking_system':
        return templates.booking_process();

      case 'admin_panel':
      case 'admin_features':
        return templates.admin_panel();

      case 'pricing_system':
      case 'pricing_info':
        return templates.pricing_system();

      default:
        return null;
    }
  },

  // NEW: RAG-specific query classification helper
  classifyForRAG: (message) => {
    const lowerMessage = message.toLowerCase();

    const ragPatterns = {
      'needs_multi_stage': [
        'áƒ›áƒ—áƒ”áƒšáƒ˜ áƒ¡áƒáƒ˜áƒ¢áƒ˜áƒ¡ áƒ¨áƒ”áƒ¡áƒáƒ®áƒ”áƒ‘', 'áƒ¡áƒ áƒ£áƒšáƒ˜ áƒ“áƒ”áƒ¢áƒáƒšáƒ£áƒ áƒ˜ áƒ˜áƒœáƒ¤áƒáƒ áƒ›áƒáƒªáƒ˜áƒ', 'áƒ§áƒ•áƒ”áƒšáƒáƒ¤áƒ”áƒ áƒ˜ áƒ áƒáƒª áƒáƒ áƒ˜áƒ¡',
        'áƒžáƒ áƒáƒ”áƒ¥áƒ¢áƒ˜áƒ¡ áƒ¡áƒ áƒ£áƒšáƒ˜ áƒáƒœáƒáƒšáƒ˜áƒ–áƒ˜', 'áƒ›áƒ—áƒšáƒ˜áƒáƒœáƒ˜ áƒ¡áƒ˜áƒ¡áƒ¢áƒ”áƒ›áƒ˜áƒ¡ áƒáƒ¦áƒ¬áƒ”áƒ áƒ'
      ],
      'needs_structure_focus': [
        'áƒ¡áƒ¢áƒ áƒ£áƒ¥áƒ¢áƒ£áƒ áƒ', 'áƒáƒ áƒ¥áƒ˜áƒ¢áƒ”áƒ¥áƒ¢áƒ£áƒ áƒ', 'áƒáƒ áƒ’áƒáƒœáƒ˜áƒ–áƒáƒªáƒ˜áƒ', 'áƒ“áƒ˜áƒ áƒ”áƒ¥áƒ¢áƒáƒ áƒ˜áƒ”áƒ‘áƒ˜',
        'áƒ¤áƒáƒšáƒ“áƒ”áƒ áƒ”áƒ‘áƒ˜', 'áƒ¤áƒáƒ˜áƒšáƒ”áƒ‘áƒ˜áƒ¡ áƒ’áƒáƒœáƒšáƒáƒ’áƒ”áƒ‘áƒ'
      ],
      'needs_component_focus': [
        'áƒ™áƒáƒ›áƒžáƒáƒœáƒ”áƒœáƒ¢áƒ”áƒ‘áƒ˜', 'áƒ›áƒáƒ“áƒ£áƒšáƒ”áƒ‘áƒ˜', 'áƒ¡áƒ”áƒ áƒ•áƒ˜áƒ¡áƒ”áƒ‘áƒ˜', 'React áƒ™áƒáƒ›áƒžáƒáƒœáƒ”áƒœáƒ¢áƒ”áƒ‘áƒ˜',
        'áƒ¤áƒ£áƒœáƒ¥áƒªáƒ˜áƒáƒœáƒáƒšáƒ˜', 'UI áƒ”áƒšáƒ”áƒ›áƒ”áƒœáƒ¢áƒ”áƒ‘áƒ˜'
      ],
      'needs_code_analysis': [
        'áƒ™áƒáƒ“áƒ˜áƒ¡ áƒáƒœáƒáƒšáƒ˜áƒ–áƒ˜', 'áƒ¤áƒ£áƒœáƒ¥áƒªáƒ˜áƒ”áƒ‘áƒ˜', 'áƒ˜áƒ›áƒžáƒšáƒ”áƒ›áƒ”áƒœáƒ¢áƒáƒªáƒ˜áƒ', 'áƒáƒšáƒ’áƒáƒ áƒ˜áƒ—áƒ›áƒ”áƒ‘áƒ˜',
        'áƒšáƒáƒ’áƒ˜áƒ™áƒ', 'áƒ áƒáƒ’áƒáƒ  áƒ›áƒ£áƒ¨áƒáƒáƒ‘áƒ¡ áƒ™áƒáƒœáƒ™áƒ áƒ”áƒ¢áƒ£áƒšáƒáƒ“'
      ]
    };

    for (const [type, patterns] of Object.entries(ragPatterns)) {
      if (patterns.some(pattern => lowerMessage.includes(pattern))) {
        return type;
      }
    }

    return 'general_rag';
  },

  // NEW: Get pre-built context for specific file types
  getPreBuiltContextForFiles: (fileTypes) => {
    const fileContexts = {
      'booking': {
        description: 'áƒ¯áƒáƒ•áƒ¨áƒœáƒ˜áƒ¡ áƒ¡áƒ˜áƒ¡áƒ¢áƒ”áƒ›áƒ˜áƒ¡ áƒ¤áƒáƒ˜áƒšáƒ”áƒ‘áƒ˜ - BookingService.ts, BookingModal.tsx',
        keyFeatures: ['áƒ áƒ”áƒáƒš-áƒ“áƒ áƒáƒ˜áƒ¡ áƒ®áƒ”áƒšáƒ›áƒ˜áƒ¡áƒáƒ¬áƒ•áƒ“áƒáƒ›áƒáƒ‘áƒ', 'áƒáƒ•áƒ¢áƒáƒ›áƒáƒ¢áƒ£áƒ áƒ˜ áƒ¤áƒáƒ¡áƒ”áƒ‘áƒ˜áƒ¡ áƒ’áƒáƒ›áƒáƒ—áƒ•áƒšáƒ', 'áƒ™áƒáƒšáƒ”áƒœáƒ“áƒáƒ áƒ˜áƒ¡ áƒ˜áƒœáƒ¢áƒ”áƒ’áƒ áƒáƒªáƒ˜áƒ'],
        relatedFiles: ['src/services/bookingService.ts', 'src/components/BookingModal.tsx', 'src/components/Calendar.tsx']
      },
      'pricing': {
        description: 'áƒ¤áƒáƒ¡áƒ”áƒ‘áƒ˜áƒ¡ áƒ¡áƒ˜áƒ¡áƒ¢áƒ”áƒ›áƒ˜áƒ¡ áƒ¤áƒáƒ˜áƒšáƒ”áƒ‘áƒ˜ - áƒ¡áƒ”áƒ–áƒáƒœáƒ£áƒ áƒ˜ áƒ“áƒ áƒáƒ•áƒ¢áƒáƒ›áƒáƒ¢áƒ£áƒ áƒ˜ áƒ’áƒáƒ›áƒáƒ—áƒ•áƒšáƒ',
        keyFeatures: ['áƒ¡áƒ”áƒ–áƒáƒœáƒ£áƒ áƒ˜ áƒ¤áƒáƒ¡áƒ”áƒ‘áƒ˜', 'áƒ™áƒ•áƒ˜áƒ áƒ˜áƒ¡ áƒ“áƒ¦áƒ”áƒ”áƒ‘áƒ˜áƒ¡ áƒ¤áƒáƒ¡áƒ”áƒ‘áƒ˜', 'áƒ®áƒáƒœáƒ’áƒ áƒ«áƒšáƒ˜áƒ•áƒáƒ‘áƒ˜áƒ¡ áƒ¤áƒáƒ¡áƒ“áƒáƒ™áƒšáƒ”áƒ‘áƒ'],
        relatedFiles: ['src/utils/pricing.ts', 'src/utils/vehiclePricing.ts', 'src/components/PricingManager.tsx']
      },
      'admin': {
        description: 'áƒáƒ“áƒ›áƒ˜áƒœáƒ˜áƒ¡áƒ¢áƒ áƒáƒªáƒ˜áƒ£áƒšáƒ˜ áƒ¡áƒ˜áƒ¡áƒ¢áƒ”áƒ›áƒ˜áƒ¡ áƒ¤áƒáƒ˜áƒšáƒ”áƒ‘áƒ˜',
        keyFeatures: ['áƒ›áƒáƒ›áƒ®áƒ›áƒáƒ áƒ”áƒ‘áƒšáƒ”áƒ‘áƒ˜áƒ¡ áƒ›áƒáƒ áƒ—áƒ•áƒ', 'áƒ™áƒáƒ›áƒ˜áƒ¡áƒ˜áƒ”áƒ‘áƒ˜áƒ¡ áƒ¡áƒ˜áƒ¡áƒ¢áƒ”áƒ›áƒ', 'áƒ¡áƒ¢áƒáƒ¢áƒ˜áƒ¡áƒ¢áƒ˜áƒ™áƒ'],
        relatedFiles: ['src/AdminUsers.tsx', 'src/AdminCottages.tsx', 'src/MainDashboard.tsx']
      },
      'ai': {
        description: 'AI áƒáƒ¡áƒ˜áƒ¡áƒ¢áƒ”áƒœáƒ¢áƒ˜áƒ¡ áƒ¡áƒ˜áƒ¡áƒ¢áƒ”áƒ›áƒ˜áƒ¡ áƒ¤áƒáƒ˜áƒšáƒ”áƒ‘áƒ˜',
        keyFeatures: ['Groq API áƒ˜áƒœáƒ¢áƒ”áƒ’áƒ áƒáƒªáƒ˜áƒ', 'áƒ¥áƒáƒ áƒ—áƒ£áƒšáƒ˜ áƒ”áƒœáƒ˜áƒ¡ áƒ•áƒáƒšáƒ˜áƒ“áƒáƒªáƒ˜áƒ', 'áƒ™áƒáƒ“áƒ˜áƒ¡ áƒáƒœáƒáƒšáƒ˜áƒ–áƒ˜'],
        relatedFiles: ['backend/ai_controller.js', 'backend/services/groq_service.js', 'src/components/AIAssistantEnhanced.tsx']
      }
    };

    return fileTypes.map(type => fileContexts[type]).filter(Boolean);
  },

  // NEW: Get token-optimized summary
  getTokenOptimizedSummary: (maxTokens = 500) => {
    const baseInfo = BAKHMARO_PLATFORM_INFO;
    let summary = `ðŸ”ï¸ áƒ‘áƒáƒ®áƒ›áƒáƒ áƒáƒ¡ áƒ‘áƒ£áƒ™áƒ˜áƒœáƒ’ áƒžáƒšáƒáƒ¢áƒ¤áƒáƒ áƒ›áƒ\n\n`;

    if (maxTokens > 200) {
      summary += `ðŸ“‹ áƒ™áƒáƒ¢áƒ”áƒ’áƒáƒ áƒ˜áƒ”áƒ‘áƒ˜: áƒ™áƒáƒ¢áƒ”áƒ¯áƒ”áƒ‘áƒ˜, áƒ¡áƒáƒ¡áƒ¢áƒ£áƒ›áƒ áƒáƒ”áƒ‘áƒ˜, áƒ¢áƒ áƒáƒœáƒ¡áƒžáƒáƒ áƒ¢áƒ˜, áƒªáƒ®áƒ”áƒœáƒ”áƒ‘áƒ˜, áƒ—áƒáƒ•áƒšáƒ›áƒáƒ‘áƒ˜áƒšáƒ”áƒ‘áƒ˜\n`;
      summary += `âš™ï¸ áƒ¢áƒ”áƒ¥áƒœáƒáƒšáƒáƒ’áƒ˜áƒ”áƒ‘áƒ˜: React/TypeScript + Node.js/Express + Firebase\n`;
      summary += `ðŸ¤– AI: Groq API (Llama models) + áƒ¥áƒáƒ áƒ—áƒ£áƒšáƒ˜ áƒ”áƒœáƒ˜áƒ¡ áƒ›áƒ®áƒáƒ áƒ“áƒáƒ­áƒ”áƒ áƒ\n`;
    }

    if (maxTokens > 300) {
      summary += `ðŸ”§ áƒ«áƒ˜áƒ áƒ˜áƒ—áƒáƒ“áƒ˜ áƒ¤áƒ£áƒœáƒ¥áƒªáƒ˜áƒ”áƒ‘áƒ˜: áƒ áƒ”áƒáƒš-áƒ“áƒ áƒáƒ˜áƒ¡ áƒ¯áƒáƒ•áƒ¨áƒœáƒ, áƒáƒ•áƒ¢áƒáƒ›áƒáƒ¢áƒ£áƒ áƒ˜ áƒ¤áƒáƒ¡áƒ”áƒ‘áƒ˜, áƒáƒ“áƒ›áƒ˜áƒœ áƒžáƒáƒœáƒ”áƒšáƒ˜\n`;
    }

    if (maxTokens > 400) {
      summary += `ðŸ“Š áƒ áƒáƒšáƒ”áƒ‘áƒ˜: Customer, Provider, Admin, Super Admin\n`;
      summary += `ðŸ—ï¸ áƒ“áƒ”áƒžáƒšáƒáƒ˜áƒ›áƒ”áƒœáƒ¢áƒ˜: Replit Platform\n`;
    }

    return summary;
  },

  // áƒ–áƒáƒ’áƒáƒ“áƒ˜ áƒžáƒšáƒáƒ¢áƒ¤áƒáƒ áƒ›áƒ˜áƒ¡ áƒ˜áƒœáƒ¤áƒáƒ áƒ›áƒáƒªáƒ˜áƒ
  getPlatformInfo: () => BAKHMARO_PLATFORM_INFO,

  // Enhanced áƒ¨áƒ”áƒ›áƒáƒ¬áƒ›áƒ”áƒ‘áƒ - áƒáƒ áƒ˜áƒ¡ áƒ—áƒ£ áƒáƒ áƒ áƒ™áƒ˜áƒ—áƒ®áƒ•áƒ "áƒ¡áƒ¢áƒáƒ¢áƒ˜áƒ™áƒ£áƒ áƒ˜" áƒ¢áƒ˜áƒžáƒ˜áƒ¡
  isStaticInfoQuery: (message) => {
    const staticQueries = [
      'áƒ¡áƒáƒ˜áƒ¢áƒ˜áƒ¡ áƒ¡áƒ áƒ£áƒšáƒ˜ áƒ˜áƒœáƒ¤áƒáƒ áƒ›áƒáƒªáƒ˜áƒ',
      'áƒžáƒšáƒáƒ¢áƒ¤áƒáƒ áƒ›áƒ˜áƒ¡ áƒ“áƒ”áƒ¢áƒáƒšáƒ”áƒ‘áƒ˜', 
      'áƒ’áƒáƒœáƒ¡áƒáƒ–áƒ¦áƒ•áƒ áƒ£áƒšáƒ˜ áƒ˜áƒœáƒ¤áƒáƒ áƒ›áƒáƒªáƒ˜áƒ',
      'áƒ©áƒ”áƒ›áƒ˜ áƒ¡áƒáƒ˜áƒ¢áƒ˜áƒ¡ áƒáƒ¦áƒ¬áƒ”áƒ áƒ',
      'áƒ áƒáƒ’áƒáƒ  áƒ›áƒ£áƒ¨áƒáƒáƒ‘áƒ¡ áƒ©áƒ”áƒ›áƒ˜ áƒ¡áƒáƒ˜áƒ¢áƒ˜',
      'áƒžáƒšáƒáƒ¢áƒ¤áƒáƒ áƒ›áƒ˜áƒ¡ áƒ¡áƒ¢áƒ áƒ£áƒ¥áƒ¢áƒ£áƒ áƒ',
      'áƒ‘áƒáƒ®áƒ›áƒáƒ áƒáƒ¡ áƒ¡áƒ˜áƒ¡áƒ¢áƒ”áƒ›áƒ',
      'áƒ›áƒáƒ™áƒšáƒ” áƒ¨áƒ”áƒ¯áƒáƒ›áƒ”áƒ‘áƒ',
      'bullet point áƒ˜áƒœáƒ¤áƒáƒ áƒ›áƒáƒªáƒ˜áƒ'
    ];

    const lowerMessage = message.toLowerCase();
    return staticQueries.some(query => lowerMessage.includes(query.toLowerCase()));
  },

  // NEW: Check if query requires multi-stage processing
  requiresMultiStageRAG: (message) => {
    const multiStageIndicators = [
      'áƒ›áƒ—áƒ”áƒšáƒ˜ áƒ¡áƒáƒ˜áƒ¢áƒ˜áƒ¡ áƒ¨áƒ”áƒ¡áƒáƒ®áƒ”áƒ‘ áƒ“áƒáƒ¬áƒ•áƒ áƒ˜áƒšáƒ”áƒ‘áƒ˜áƒ—áƒ˜ áƒ˜áƒœáƒ¤áƒáƒ áƒ›áƒáƒªáƒ˜áƒ',
      'áƒ¡áƒ áƒ£áƒšáƒ˜ áƒžáƒ áƒáƒ”áƒ¥áƒ¢áƒ˜áƒ¡ áƒáƒœáƒáƒšáƒ˜áƒ–áƒ˜',
      'áƒ§áƒ•áƒ”áƒšáƒáƒ¤áƒ”áƒ áƒ˜ áƒ áƒáƒª áƒáƒ áƒ˜áƒ¡',
      'áƒ“áƒ”áƒ¢áƒáƒšáƒ£áƒ áƒ˜ áƒáƒ¦áƒ¬áƒ”áƒ áƒ áƒ›áƒ—áƒ”áƒšáƒ˜ áƒžáƒšáƒáƒ¢áƒ¤áƒáƒ áƒ›áƒ˜áƒ¡',
      'áƒ™áƒáƒ›áƒžáƒšáƒ”áƒ¥áƒ¡áƒ£áƒ áƒ˜ áƒáƒœáƒáƒšáƒ˜áƒ–áƒ˜',
      'comprehensive analysis'
    ];

    const lowerMessage = message.toLowerCase();
    return multiStageIndicators.some(indicator => lowerMessage.includes(indicator));
  },
  
  // Get modules for specific topic
  getModulesForTopic: (topic) => {
    return SiteSummary.getModulesForTopic(topic);
  },

  // Get all available topics
  getAvailableTopics: () => {
    return SiteSummary.getAvailableTopics();
  }
};